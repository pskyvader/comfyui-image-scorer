<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Step 1 Scoring Tool</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/style.css">
</head>

<body>
    <div class="card">
        <header>
            <h2>Image Scoring Tool</h2>
            <div class="meta-line" id="counter">Loading images…</div>
        </header>
        <div id="loader" class="loader">
            <div class="spinner"></div>
            <div class="loader-text">Loading…</div>
        </div>

        <!-- Single image preview + loader -->
        <div class="preview" id="single-preview">
            <img id="preview" alt="preview" class="hidden">
        </div>


        <!-- Batch mode toggle -->
        <div class="batch-wrapper">
            <label class="batch-label">
                <input id="batch-toggle" type="checkbox" onchange="toggleBatchMode(this.checked)"> <strong
                    class="batch-strong">Batch mode</strong>
            </label>
            <div id="batch-controls" class="batch-controls hidden">
                <label class="batch-count-label">Count: <input id="batch-size" class="batch-size-input" type="number"
                        value="6" min="1" max="50"></label>
                <button class="btn" onclick="fetchBatch()">Fetch Batch</button>
                <button class="btn btn-green" onclick="submitBatchScores()">Submit All</button>
            </div>
        </div>


        <div class="controls" id="single-controls">
            <div class="score-btns">
                <button class="btn" onclick="submitScore(1)">1</button>
                <button class="btn" onclick="submitScore(2)">2</button>
                <button class="btn" onclick="submitScore(3)">3</button>
                <button class="btn" onclick="submitScore(4)">4</button>
                <button class="btn" onclick="submitScore(5)">5</button>
                </div>
                <br/>
                <button class="btn btn-gray" onclick="skipImage()">Skip</button>
                <button class="btn btn-teal hidden" onclick="refreshCount()">Refresh</button>
            
        </div>
        <div id="meta" class="meta"></div>

        <!-- Batch grid -->
        <div id="batch-area" class="hidden">
            <div id="batch-grid"></div>
            <div id="batch-remaining" class="meta "></div>
        </div>


        <!-- Footer status -->
        <div id="status">Waiting for images…</div>
    </div>

    <script src="/client.js"></script>
</body>

</html>